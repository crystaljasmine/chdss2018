---
title: '<div class="jumbotron"><h1 class="title toc-ignore display-3">Diving into the tdiyverse with dplyr</h1></div>'
author: "Danielle Navarro"
date: "4 December 2018"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

<!--

  html_document:
    includes:
      in_header: header.html
    theme: flatly
    highlight: textmate
    css: mystyle.css

-->



## The frames data

The frames data set comes from a simple experiment I ran a little while ago (it’s experiment two from this paper). What we were interested in was understanding how people use statistical information to guide inductive inferences. For example, suppose you observe a sample of “robins” that have “plaxium blood” (whatever that is). How likely is it that “sparrows” will possess plaxium blood? Or “cows”? Does it matter how many robins you have seen? Does it matter whether you specifically selected robins and they turned out to have plaxium blood (category sampling) as opposed to detecting animals with plaxium blood that then turned out to all be robins (property sampling)? In that paper we had a computational model of inductive reasoning that made specific predictions about how the sample size (number of robins) and sampling method (property or category) would inflence people’s judgments.

In this particular experiment we didn’t show people animals (though we have done those too!) we just showed them small “alien rocks” called “sodor spheres”, and asked people to make guesses about new rocks of different sizes:  test_loc values of 1 and 2 were very similar to the items they were shown during training, whereas value 7 was quite dissimilar. The number of training observations ranged from 2 (sample_size = "small") to 12 (sample_size = "large") and was varied within-subject. So everyone saw two observations, made some generalization judgments (response on a scale from 0 to 9), then saw more training observations and so on. Participants were randomly assigned to a "property" sampling condition or to a category sampling one. We also recorded age, gender, and assigned each person a unique id.

The variable key:
- id: the participant id number
- gender: male or female
- age: numeric, in years
- condition: (between subject). category sampling = people were told observations were selected on the basis of their category membership (e.g., because it's a small bird, or a small rock, or whatever) vs property sampling = people were told observations were selected because of a property they posses (e.g., it has plaxium blood, or a plaxium coating).
- sample_size: (within subject) small, medium, large - indicating how many observations they'd been shown at this point in the experiment
- n_obs: (within subject). same as "sample_size", but it's the actual number (2, 6 or 12)
- test_item: (within subject). what stimulus are they now being shown? numeric: 1 to 7. this is ordinal (or really, quasi-interval) where items 1-2 are essentially identical to observations they'd seen before, and 3-7 become progressively less similar (e.g., bigger bird, bigger rock, whatever...)
- response: (the outcome, within subject). the rating the person gave (0-9 scale) for "how likely is it that this new stimulus possesses the property (e.g., plaxium blood)?" where 0 = not at all, 9 = certain (or something like that)
There's quite a bit going on in the data since it's a two within-subject and one between-subject manipulation

## 1. Getting started

Step 1 is making sure you have the packages:

```{r}
library(here)
library(tidyverse)
library(janitor)
```

Step 2 is creating an RMarkdown document that will contain your analyses.

Step 3 is loading the data.
```{r}
data_file <- here("analysis",)
```


- Make sure you have the packages
- Create an R Markdown document
- Load the data
- Glimpse the data

practical notes

- irl you'd hae to do a lot of ugly data cleaning to get to this point
- Mention that data vis is a later section

## 2. Basic operations with dplyr

- Introduce the pipe operator
- Group and summarise (and ungroup)
- Arrange, filter, select
- Mutate

## 3. Other useful things

- Gather and spread
- Unify and separate
- janitor::clean_names
- Tiny bit of stringr
- Mention the existence of purrr & lubridate






